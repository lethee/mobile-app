<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>다이얼로그 페이지</title>
    <link rel="stylesheet" href="jquery.mobile-1.3.2.min.css">
    <!--[if lt IE 9]><script src="html5shiv.js"></script><![endif]-->
    <script src="jquery-1.9.1.min.js"></script>
    <script src="jquery.mobile-1.3.2.min.js"></script>
  </head>
  
  <body>

    <!-- UI -->
    <div data-role="page" id="page-1">
      <div data-role="header">
        <h1 id="page-h1">페이지</h1>
      </div>

      <div data-role="content" id="container">
        <h2>Flow 프로젝트</h2>
        <div>다이얼로그 테스트</div>

        <div>
        <a href="#page-dialog" data-rel="dialog" 
          data-inline="true" data-role="button">다이얼로그</a>
        </div>

        <hr >

        <div>사용자가 선택한 결과: <span id="dialog-result-placeholder"></span></div>
        
      </div>
    </div>

    <div data-role="page" id="page-dialog">
      <div data-role="header">
        <h1 id="page-h1">다이얼로그 타이틀</h1>
      </div>

      <div data-role="content" id="container">
        <div>
          <p>다이얼로그가 보입니까!</p>

          <p>어떤 선택을 하시겠습니까</p>
        </div>

        <div><a href="#" data-role="button" class="my-button-yes"
          data-theme="b">예</a></div>
        <div><a href="#" data-role="button" class="my-button-no">
          아니오</a></div>
      </div>
    </div>

    <script>
    var controller = {
      displayResult: function(result) {
        $('#dialog-result-placeholder').text(result + ' 를 선택하셨군요!');
      }
    };

    $('#page-dialog').bind('pageinit', function() {

      $('a.my-button-yes').click(function() {
        $('#page-dialog').data('result', '예');
        $('#page-dialog').dialog('close');
      });

      $('a.my-button-no').click(function() {
        $('#page-dialog').data('result', '아니오');
        $('#page-dialog').dialog('close');
      });

    });

    $('#page-dialog').bind('pagehide', function() {
      var result = $('#page-dialog').data('result');
      controller.displayResult(result);
    });
    </script>
  </body>
</html>